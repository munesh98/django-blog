{% extends "blog/base.html" %}
{% block content %}

<div class="container mt-4">

    <h2 class="fw-bold mb-4">Admin Dashboard</h2>

    <!-- SUMMARY CARDS -->
    <div class="row mb-4">

        <div class="col-md-3">
            <div class="card shadow-sm p-3 text-center">
                <h5>Total Users</h5>
                <h2 class="fw-bold">{{ total_users }}</h2>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card shadow-sm p-3 text-center">
                <h5>Total Posts</h5>
                <h2 class="fw-bold">{{ total_posts }}</h2>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card shadow-sm p-3 text-center">
                <h5>Total Comments</h5>
                <h2 class="fw-bold">{{ total_comments }}</h2>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card shadow-sm p-3 text-center">
                <h5>Total Categories</h5>
                <h2 class="fw-bold">{{ total_categories }}</h2>
            </div>
        </div>

    </div>

    <hr>

    <!-- RECENT POSTS TABLE -->
    <h4 class="fw-bold mb-3">Recent Posts</h4>

    <div class="card shadow-sm p-3">
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Created</th>
                    <th>Likes</th>
                    <th>Action</th>
                </tr>
            </thead>

            <tbody>
                {% for p in posts %}
                <tr>
                    <td>{{ p.title }}</td>
                    <td>{{ p.author.username }}</td>
                    <td>{{ p.created_at|date:"M d, Y" }}</td>
                    <td>{{ p.likes.count }}</td>
                    <td>
                        <a href="{% url 'post-detail' p.id %}" class="btn btn-sm btn-primary">View</a>
                        <a href="{% url 'post-delete' p.id %}" class="btn btn-sm btn-danger">Delete</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div>

{% endblock %}
